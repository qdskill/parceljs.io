<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>🐠 转换(Transforms)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link type="text/css" rel="stylesheet" href="assets/style.css" />
  <link type="text/css" rel="stylesheet" href="assets/pilcrow.css" />
  <link type="text/css" rel="stylesheet" href="assets/hljs-github.min.css"/>
  <!--<script async src="https://www.googletagmanager.com/gtag/js?id=UA-110647385-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-110647385-1');
  </script>-->
  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?6b5f065a80e0af3ff54139cf0ae94d47";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
  </script>    
</head>
<body>
  <header>
    <a class="logo" href="/">
      <img class="parcel" src="assets/parcel.png" srcset="assets/parcel@2x.png 2x, assets/parcel@3x.png 3x" height="30">
      <img class="type" src="assets/logo.svg" alt="Parcel">
    </a>
    <div class="links">
      <a href="https://github.com/parcel-bundler/parcel" target="_blank">GitHub</a>
    </div>
  </header>
  <div class="content">
    <nav>
      <ul>
        <li><a href="getting_started.html">🚀 快速开始</a></li>
        <li><a href="assets.html">📦 资源</a></li>
        <li><a href="transforms.html">🐠 转换</a></li>
        <li><a href="code_splitting.html">✂️ 代码拆分</a></li>
        <li><a href="hmr.html">🔥 热模块替换</a></li>
        <li><a href="production.html">✨ 生产环境</a></li>
        <li><a href="recipes.html">🍰 配方</a></li>
      </ul>
      <h3>进阶</h3>
      <ul>
        <li><a href="how_it_works.html">🛠 它如何运作</a></li>
        <li><a href="asset_types.html">📝 资源类型</a></li>
        <li><a href="packagers.html">📦 Packagers</a></li>
        <li><a href="plugins.html">🔌 插件</a></li>
      </ul>
    </nav>
    <main><h1 id="🐠-转换(transforms)"><a class="header-link" href="#🐠-转换(transforms)"></a>🐠 转换(Transforms)</h1>
<p>许多打包工具需要你安装和配置插件来转换资源，Parcel 支持许多开箱即用的转换器和内置的编译器。您可以使用 <a href="https://babeljs.cn">Babel</a> 转换 JavaScript ，使用 <a href="http://postcss.org">PostCSS</a> 转换 CSS ，使用 <a href="https://github.com/posthtml/posthtml">PostHTML</a> 转换 HTML。Parcel 在模块中找到配置文件 (例如 .babelrc ，.postcssrc) 时会自动运行并进行转换。</p>
<p>这甚至可以在第三方 <code>node_modules</code> 中运行：如果配置文件作为程序包的一部分发布，则仅为该模块自动启用转换。由于只需要处理需要转换的模块，因此可以快速打包。这也意味着你不需要手动配置转换，使其包含和排除某些文件，也不需要知道如何构建第三方代码，以便在你的应用程序中使用它。</p>
<h2 id="babel"><a class="header-link" href="#babel"></a>Babel</h2>
<p><a href="https://babeljs.cn">Babel</a> 是一个流行的 JavaScript 转换器，拥有大型的插件生态系统。Babel 与 Parcel 一起使用的方式与单独使用或与其他打包工具一起使用的方式相同。</p>
<p>在你的应用程序中安装 presets 和 plugins :</p>
<pre class="hljs"><code>yarn add babel-preset-env</code></pre><p>接着，创建一个 <code>.babelrc</code>:</p>
<pre class="hljs"><code>{
  <span class="hljs-attr">"presets"</span>: [<span class="hljs-string">"env"</span>]
}</code></pre><h2 id="postcss"><a class="header-link" href="#postcss"></a>PostCSS</h2>
<p><a href="http://postcss.org">PostCSS</a> 是一个使用插件转换 CSS 的工具，例如 <a href="https://github.com/postcss/autoprefixer">autoprefixer</a>，<a href="http://cssnext.io/">cssnext</a> 以及 <a href="https://github.com/css-modules/css-modules">CSS Modules</a> 。你可以使用这些名称之一创建配置，从而达到使用 Parcel 配置 PostCSS 的目的： <code>.postcssrc</code> (JSON)，<code>.postcssrc.js</code>，或 <code>postcss.config.js</code>。</p>
<p>在你应用程序中安装 plugins ：</p>
<pre class="hljs"><code>yarn add postcss-modules autoprefixer</code></pre><p>接着，创建一个 <code>.postcssrc</code> 文件：</p>
<pre class="hljs"><code>{
  <span class="hljs-attr">"modules"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"plugins"</span>: {
    <span class="hljs-attr">"autoprefixer"</span>: {
      <span class="hljs-attr">"grid"</span>: <span class="hljs-literal">true</span>
    }
  }
}</code></pre><p>Plugins 在 <code>plugins</code> 对象中被指定为 key，并使用对象的值定义选项。如果插件没有选项，只需将其设置为 <code>true</code> 即可。</p>
<p>可以在 <code>.browserslistrc</code> 中指定 autoprefixer、cssnext 和目标浏览器的其他工具:</p>
<pre class="hljs"><code>&gt; <span class="hljs-number">1</span>%
last <span class="hljs-number">2</span> versions</code></pre><p>使用顶级 <code>modules</code> 键时，CSS 模块启用方式稍有不同。这是因为 Parcel 需要对 CSS 模块提供特殊支持，因为它们也导出一个包含在 JavaScript 包中的对象。请注意，你仍然需要在你的项目中安装 <code>postcss-modules</code> 。</p>
<h2 id="posthtml"><a class="header-link" href="#posthtml"></a>PostHTML</h2>
<p><a href="https://github.com/posthtml/posthtml">PostHTML</a> 是一个通过插件转换 HTML 的工具。你可以使用这些名称之一创建配置，从而达到使用 Parcel 配置 PostHTML 的目的： <code>.posthtmlrc</code> (JSON) ，<code>posthtmlrc.js</code> ，或者 <code>posthtml.config.js</code>。</p>
<p>在你的应用程序中安装 plugin ：</p>
<pre class="hljs"><code>yarn add posthtml-img-autosize</code></pre><p>接着，创建一个 <code>.posthtmlrc</code> ：</p>
<pre class="hljs"><code>{
  <span class="hljs-attr">"plugins"</span>: {
    <span class="hljs-attr">"posthtml-img-autosize"</span>: {
      <span class="hljs-attr">"root"</span>: <span class="hljs-string">"./images"</span>
    }
  }
}</code></pre><p>Plugins 在 <code>plugins</code> 对象中指定为 key，并且选项使用对象值定义。如果插件没有选项，只需将其设置为 <code>true</code> 即可。</p>
<h2 id="typescript"><a class="header-link" href="#typescript"></a>TypeScript</h2>
<p><a href="https://www.typescriptlang.org/">TypeScript</a> 是 JavaScript 类型的超集，它可以编译成普通的 JavaScript，同时也支持现代 ES2015+ 的特性。转换 TypeScript 无需任何额外配置，开箱即用。</p>
<pre class="hljs"><code><span class="hljs-comment">&lt;!-- index.html --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./index.ts"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre><pre class="hljs"><code><span class="hljs-comment">// index.ts</span>
<span class="hljs-keyword">import</span> message from <span class="hljs-string">"./message"</span>;
<span class="hljs-built_in">console</span>.log(message);</code></pre><pre class="hljs"><code><span class="hljs-comment">// message.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-string">"Hello, world"</span>;</code></pre>    </main>
  </div>
  <script>
    (function () {
      var activeLink = Array.from(document.querySelectorAll('nav a')).find(function (a) {
        return a.href === window.location.href;
      });

      activeLink.classList.add('selected');
    })();
  </script>
</body>
</html>
