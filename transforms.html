<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ğŸ  è½¬æ¢(Transforms)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link type="text/css" rel="stylesheet" href="assets/style.css" />
  <link type="text/css" rel="stylesheet" href="assets/pilcrow.css" />
  <link type="text/css" rel="stylesheet" href="assets/hljs-github.min.css"/>
  <!--<script async src="https://www.googletagmanager.com/gtag/js?id=UA-110647385-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-110647385-1');
  </script>-->
  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?6b5f065a80e0af3ff54139cf0ae94d47";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
  </script>    
</head>
<body>
  <header>
    <a class="logo" href="/">
      <img class="parcel" src="assets/parcel.png" srcset="assets/parcel@2x.png 2x, assets/parcel@3x.png 3x" height="30">
      <img class="type" src="assets/logo.svg" alt="Parcel">
    </a>
    <div class="links">
      <a href="https://github.com/parcel-bundler/parcel" target="_blank">GitHub</a>
    </div>
  </header>
  <div class="content">
    <nav>
      <ul>
        <li><a href="getting_started.html">ğŸš€ å¿«é€Ÿå¼€å§‹</a></li>
        <li><a href="assets.html">ğŸ“¦ èµ„æº</a></li>
        <li><a href="transforms.html">ğŸ  è½¬æ¢</a></li>
        <li><a href="code_splitting.html">âœ‚ï¸ ä»£ç æ‹†åˆ†</a></li>
        <li><a href="hmr.html">ğŸ”¥ çƒ­æ¨¡å—æ›¿æ¢</a></li>
        <li><a href="production.html">âœ¨ ç”Ÿäº§ç¯å¢ƒ</a></li>
        <li><a href="recipes.html">ğŸ° é…æ–¹</a></li>
      </ul>
      <h3>è¿›é˜¶</h3>
      <ul>
        <li><a href="how_it_works.html">ğŸ›  å®ƒå¦‚ä½•è¿ä½œ</a></li>
        <li><a href="asset_types.html">ğŸ“ èµ„æºç±»å‹</a></li>
        <li><a href="packagers.html">ğŸ“¦ Packagers</a></li>
        <li><a href="plugins.html">ğŸ”Œ æ’ä»¶</a></li>
      </ul>
    </nav>
    <main><h1 id="ğŸ -è½¬æ¢(transforms)"><a class="header-link" href="#ğŸ -è½¬æ¢(transforms)"></a>ğŸ  è½¬æ¢(Transforms)</h1>
<p>è®¸å¤šæ‰“åŒ…å·¥å…·éœ€è¦ä½ å®‰è£…å’Œé…ç½®æ’ä»¶æ¥è½¬æ¢èµ„æºï¼ŒParcel æ”¯æŒè®¸å¤šå¼€ç®±å³ç”¨çš„è½¬æ¢å™¨å’Œå†…ç½®çš„ç¼–è¯‘å™¨ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ <a href="https://babeljs.cn">Babel</a> è½¬æ¢ JavaScript ï¼Œä½¿ç”¨ <a href="http://postcss.org">PostCSS</a> è½¬æ¢ CSS ï¼Œä½¿ç”¨ <a href="https://github.com/posthtml/posthtml">PostHTML</a> è½¬æ¢ HTMLã€‚Parcel åœ¨æ¨¡å—ä¸­æ‰¾åˆ°é…ç½®æ–‡ä»¶ (ä¾‹å¦‚ .babelrc ï¼Œ.postcssrc) æ—¶ä¼šè‡ªåŠ¨è¿è¡Œå¹¶è¿›è¡Œè½¬æ¢ã€‚</p>
<p>è¿™ç”šè‡³å¯ä»¥åœ¨ç¬¬ä¸‰æ–¹ <code>node_modules</code> ä¸­è¿è¡Œï¼šå¦‚æœé…ç½®æ–‡ä»¶ä½œä¸ºç¨‹åºåŒ…çš„ä¸€éƒ¨åˆ†å‘å¸ƒï¼Œåˆ™ä»…ä¸ºè¯¥æ¨¡å—è‡ªåŠ¨å¯ç”¨è½¬æ¢ã€‚ç”±äºåªéœ€è¦å¤„ç†éœ€è¦è½¬æ¢çš„æ¨¡å—ï¼Œå› æ­¤å¯ä»¥å¿«é€Ÿæ‰“åŒ…ã€‚è¿™ä¹Ÿæ„å‘³ç€ä½ ä¸éœ€è¦æ‰‹åŠ¨é…ç½®è½¬æ¢ï¼Œä½¿å…¶åŒ…å«å’Œæ’é™¤æŸäº›æ–‡ä»¶ï¼Œä¹Ÿä¸éœ€è¦çŸ¥é“å¦‚ä½•æ„å»ºç¬¬ä¸‰æ–¹ä»£ç ï¼Œä»¥ä¾¿åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨å®ƒã€‚</p>
<h2 id="babel"><a class="header-link" href="#babel"></a>Babel</h2>
<p><a href="https://babeljs.cn">Babel</a> æ˜¯ä¸€ä¸ªæµè¡Œçš„ JavaScript è½¬æ¢å™¨ï¼Œæ‹¥æœ‰å¤§å‹çš„æ’ä»¶ç”Ÿæ€ç³»ç»Ÿã€‚Babel ä¸ Parcel ä¸€èµ·ä½¿ç”¨çš„æ–¹å¼ä¸å•ç‹¬ä½¿ç”¨æˆ–ä¸å…¶ä»–æ‰“åŒ…å·¥å…·ä¸€èµ·ä½¿ç”¨çš„æ–¹å¼ç›¸åŒã€‚</p>
<p>åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­å®‰è£… presets å’Œ plugins :</p>
<pre class="hljs"><code>yarn add babel-preset-env</code></pre><p>æ¥ç€ï¼Œåˆ›å»ºä¸€ä¸ª <code>.babelrc</code>:</p>
<pre class="hljs"><code>{
  <span class="hljs-attr">"presets"</span>: [<span class="hljs-string">"env"</span>]
}</code></pre><h2 id="postcss"><a class="header-link" href="#postcss"></a>PostCSS</h2>
<p><a href="http://postcss.org">PostCSS</a> æ˜¯ä¸€ä¸ªä½¿ç”¨æ’ä»¶è½¬æ¢ CSS çš„å·¥å…·ï¼Œä¾‹å¦‚ <a href="https://github.com/postcss/autoprefixer">autoprefixer</a>ï¼Œ<a href="http://cssnext.io/">cssnext</a> ä»¥åŠ <a href="https://github.com/css-modules/css-modules">CSS Modules</a> ã€‚ä½ å¯ä»¥ä½¿ç”¨è¿™äº›åç§°ä¹‹ä¸€åˆ›å»ºé…ç½®ï¼Œä»è€Œè¾¾åˆ°ä½¿ç”¨ Parcel é…ç½® PostCSS çš„ç›®çš„ï¼š <code>.postcssrc</code> (JSON)ï¼Œ<code>.postcssrc.js</code>ï¼Œæˆ– <code>postcss.config.js</code>ã€‚</p>
<p>åœ¨ä½ åº”ç”¨ç¨‹åºä¸­å®‰è£… plugins ï¼š</p>
<pre class="hljs"><code>yarn add postcss-modules autoprefixer</code></pre><p>æ¥ç€ï¼Œåˆ›å»ºä¸€ä¸ª <code>.postcssrc</code> æ–‡ä»¶ï¼š</p>
<pre class="hljs"><code>{
  <span class="hljs-attr">"modules"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"plugins"</span>: {
    <span class="hljs-attr">"autoprefixer"</span>: {
      <span class="hljs-attr">"grid"</span>: <span class="hljs-literal">true</span>
    }
  }
}</code></pre><p>Plugins åœ¨ <code>plugins</code> å¯¹è±¡ä¸­è¢«æŒ‡å®šä¸º keyï¼Œå¹¶ä½¿ç”¨å¯¹è±¡çš„å€¼å®šä¹‰é€‰é¡¹ã€‚å¦‚æœæ’ä»¶æ²¡æœ‰é€‰é¡¹ï¼Œåªéœ€å°†å…¶è®¾ç½®ä¸º <code>true</code> å³å¯ã€‚</p>
<p>å¯ä»¥åœ¨ <code>.browserslistrc</code> ä¸­æŒ‡å®š autoprefixerã€cssnext å’Œç›®æ ‡æµè§ˆå™¨çš„å…¶ä»–å·¥å…·:</p>
<pre class="hljs"><code>&gt; <span class="hljs-number">1</span>%
last <span class="hljs-number">2</span> versions</code></pre><p>ä½¿ç”¨é¡¶çº§ <code>modules</code> é”®æ—¶ï¼ŒCSS æ¨¡å—å¯ç”¨æ–¹å¼ç¨æœ‰ä¸åŒã€‚è¿™æ˜¯å› ä¸º Parcel éœ€è¦å¯¹ CSS æ¨¡å—æä¾›ç‰¹æ®Šæ”¯æŒï¼Œå› ä¸ºå®ƒä»¬ä¹Ÿå¯¼å‡ºä¸€ä¸ªåŒ…å«åœ¨ JavaScript åŒ…ä¸­çš„å¯¹è±¡ã€‚è¯·æ³¨æ„ï¼Œä½ ä»ç„¶éœ€è¦åœ¨ä½ çš„é¡¹ç›®ä¸­å®‰è£… <code>postcss-modules</code> ã€‚</p>
<h2 id="posthtml"><a class="header-link" href="#posthtml"></a>PostHTML</h2>
<p><a href="https://github.com/posthtml/posthtml">PostHTML</a> æ˜¯ä¸€ä¸ªé€šè¿‡æ’ä»¶è½¬æ¢ HTML çš„å·¥å…·ã€‚ä½ å¯ä»¥ä½¿ç”¨è¿™äº›åç§°ä¹‹ä¸€åˆ›å»ºé…ç½®ï¼Œä»è€Œè¾¾åˆ°ä½¿ç”¨ Parcel é…ç½® PostHTML çš„ç›®çš„ï¼š <code>.posthtmlrc</code> (JSON) ï¼Œ<code>posthtmlrc.js</code> ï¼Œæˆ–è€… <code>posthtml.config.js</code>ã€‚</p>
<p>åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­å®‰è£… plugin ï¼š</p>
<pre class="hljs"><code>yarn add posthtml-img-autosize</code></pre><p>æ¥ç€ï¼Œåˆ›å»ºä¸€ä¸ª <code>.posthtmlrc</code> ï¼š</p>
<pre class="hljs"><code>{
  <span class="hljs-attr">"plugins"</span>: {
    <span class="hljs-attr">"posthtml-img-autosize"</span>: {
      <span class="hljs-attr">"root"</span>: <span class="hljs-string">"./images"</span>
    }
  }
}</code></pre><p>Plugins åœ¨ <code>plugins</code> å¯¹è±¡ä¸­æŒ‡å®šä¸º keyï¼Œå¹¶ä¸”é€‰é¡¹ä½¿ç”¨å¯¹è±¡å€¼å®šä¹‰ã€‚å¦‚æœæ’ä»¶æ²¡æœ‰é€‰é¡¹ï¼Œåªéœ€å°†å…¶è®¾ç½®ä¸º <code>true</code> å³å¯ã€‚</p>
<h2 id="typescript"><a class="header-link" href="#typescript"></a>TypeScript</h2>
<p><a href="https://www.typescriptlang.org/">TypeScript</a> æ˜¯ JavaScript ç±»å‹çš„è¶…é›†ï¼Œå®ƒå¯ä»¥ç¼–è¯‘æˆæ™®é€šçš„ JavaScriptï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒç°ä»£ ES2015+ çš„ç‰¹æ€§ã€‚è½¬æ¢ TypeScript æ— éœ€ä»»ä½•é¢å¤–é…ç½®ï¼Œå¼€ç®±å³ç”¨ã€‚</p>
<pre class="hljs"><code><span class="hljs-comment">&lt;!-- index.html --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./index.ts"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre><pre class="hljs"><code><span class="hljs-comment">// index.ts</span>
<span class="hljs-keyword">import</span> message from <span class="hljs-string">"./message"</span>;
<span class="hljs-built_in">console</span>.log(message);</code></pre><pre class="hljs"><code><span class="hljs-comment">// message.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-string">"Hello, world"</span>;</code></pre>    </main>
  </div>
  <script>
    (function () {
      var activeLink = Array.from(document.querySelectorAll('nav a')).find(function (a) {
        return a.href === window.location.href;
      });

      activeLink.classList.add('selected');
    })();
  </script>
</body>
</html>
